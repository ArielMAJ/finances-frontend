<div class="outer">
  <div class="container">
    <div class="form-card">
      <div class="header">
        <h2>Cadastro</h2>
        <p>Preencha os campos abaixo para criar sua conta.</p>
      </div>

      <form class="form-content" [formGroup]="cadastroForm" (submit)="submitRegister()">
        
        <div class="form-row">
          <div class="form-group">
            <label>Nome</label>
            <div class="input-container">
              <mat-icon matPrefix>badge</mat-icon>
              <input formControlName="name" placeholder="Digite seu nome" />
            </div>
            <small *ngIf="cadastroForm.get('name')?.errors?.['required'] && cadastroForm.get('name')?.touched">
              Campo obrigatório!
            </small>
            <small *ngIf="cadastroForm.get('name')?.errors?.['minlength'] && cadastroForm.get('name')?.touched">
              Mínimo {{ cadastroForm.get('name')?.errors?.['minlength']?.requiredLength }} caracteres.
            </small>
          </div>

          <div class="form-group">
            <label>Idade</label>
            <div class="input-container">
              <mat-icon matPrefix>event</mat-icon>
              <input formControlName="age" placeholder="Digite sua idade" type="number" />
            </div>
            <small *ngIf="cadastroForm.get('age')?.errors?.['required'] && cadastroForm.get('age')?.touched">
              Campo obrigatório!
            </small>
            <small *ngIf="cadastroForm.get('age')?.errors?.['min'] && cadastroForm.get('age')?.touched">
              Mínimo de {{ cadastroForm.get('age')?.errors?.['min']?.min }} anos.
            </small>
            <small *ngIf="cadastroForm.get('age')?.errors?.['max'] && cadastroForm.get('age')?.touched">
              Máximo de {{ cadastroForm.get('age')?.errors?.['max']?.max }} anos.
            </small>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Número da Conta</label>
            <div class="input-container">
              <mat-icon matPrefix>account_circle</mat-icon>
              <input formControlName="accountNumber" placeholder="Número da conta" />
            </div>
            <small *ngIf="cadastroForm.get('accountNumber')?.errors?.['required'] && cadastroForm.get('accountNumber')?.touched">
              Campo obrigatório!
            </small>
          </div>

          <div class="form-group">
            <label>Email</label>
            <div class="input-container">
              <mat-icon matPrefix>email</mat-icon>
              <input formControlName="email" placeholder="Digite seu email" type="email" />
            </div>
            <small *ngIf="cadastroForm.get('email')?.errors?.['required'] && cadastroForm.get('email')?.touched">
              Campo obrigatório!
            </small>
            <small *ngIf="cadastroForm.get('email')?.errors?.['email'] && cadastroForm.get('email')?.touched">
              Formato inválido!
            </small>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Senha</label>
            <div class="input-container">
              <mat-icon matPrefix>lock</mat-icon>
              <input formControlName="password" placeholder="Digite sua senha" type="password" />
            </div>
            <small *ngIf="cadastroForm.get('password')?.errors?.['required'] && cadastroForm.get('password')?.touched">
              Campo obrigatório!
            </small>
            <small *ngIf="cadastroForm.get('password')?.errors?.['minlength'] && cadastroForm.get('password')?.touched">
              Mínimo {{ cadastroForm.get('password')?.errors?.['minlength']?.requiredLength }} caracteres.
            </small>
          </div>

          <div class="form-group">
            <label>Confirme a Senha</label>
            <div class="input-container">
              <mat-icon matPrefix>lock</mat-icon>
              <input formControlName="passwordConfirmation" placeholder="Repita sua senha" type="password" />
            </div>
            <small *ngIf="cadastroForm.errors?.['passwordsDoNotMatch'] && cadastroForm.get('passwordConfirmation')?.touched">
              As senhas não coincidem!
            </small>
          </div>
        </div>

        <div class="button-container">
          <button [disabled]="!cadastroForm.valid" class="submit-button">Cadastrar</button>
        </div>
      </form>

      <div class="footer">
        <p>Já possui uma conta?</p>
        <a routerLink="/login">Faça Login</a>
      </div>
    </div>
  </div>
</div>
